version: "0.1" 
services:
  # 源 https://raw.githubusercontent.com/wurstmeister/kafka-docker/master/docker-compose.yml
  zookeeper:
    image: wurstmeister/zookeeper
    ports:
      - "2180:2181"
  kafka:
    image: wurstmeister/kafka:2.12-2.0.1
    ports:
      - "9090:9092"
    environment:
      # your docker host IP (Note: Do not use localhost or 127.0.0.1 as the host ip if you want to run multiple brokers.)
      KAFKA_ADVERTISED_HOST_NAME: 10.9.163.153
      # KAFKA_ZOOKEEPER_CONNECT: zookeeper:2180
      KAFKA_ZOOKEEPER_CONNECT: 10.9.163.153:2180
    # volumes:
    #   - /var/run/docker.sock:/var/run/docker.sock
      # todo 待测试 web 进入
  # web: #
  #   build:
  #     context: ./ # dockerfile 的上下文
  #     dockerfile: Dockerfile
  #   ports:
  #     - "7002:7002"
  #   image: self/monitor:v1
  
# services:
#   mongodb:
#     image: mongo:3.4
#     volumes:
#       - type: bind
#         source: ./data/db # 数据库文件存放地址，根据需要修改为本地地址
#         target: /data/db
#   redis:
#     image: redis:4.0.6
#     command: redis-server --appendonly yes
#     volumes:
#       - type: bind
#         source: ./data/redis # redis 数据文件存放地址，根据需要修改为本地地址
#         target: /data
#   web:
#     image: easymock/easymock:1.6.0
#     command: /bin/bash -c "npm start"
#     links:
#       - mongodb:mongodb
#       - redis:redis
#     ports:
#       - 7300:7300
#     volumes:
#       - type: bind 
#         source: ./logs # 日志地址，根据需要修改为本地地址
#         target: /home/easy-mock/easy-mock/logs
#       - type: bind
#         source: ./production.json # 配置地址，请使用本地配置地址替换
#         target: /home/easy-mock/easy-mock/config/production.json